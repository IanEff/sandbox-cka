# sandbox-kcna: minimal squid config (optional)
# Intended only for local dev caching of generic HTTP(S) downloads.

http_port 3128

# Allow local network ranges typically used by VirtualBox host-only networks.
acl localnet src 10.0.0.0/8
acl localnet src 172.16.0.0/12
acl localnet src 192.168.0.0/16
acl localhost src 127.0.0.1/32

# SSL CONNECT ports
acl SSL_ports port 443
acl Safe_ports port 80
acl Safe_ports port 443
acl Safe_ports port 1024-65535
acl CONNECT method CONNECT

http_access deny !Safe_ports
http_access deny CONNECT !SSL_ports

http_access allow localhost
http_access allow localnet
http_access deny all

# Basic caching knobs
cache_mem 64 MB
maximum_object_size 64 MB
cache_dir ufs /var/spool/squid 1024 16 256

access_log /var/log/squid/access.log
cache_log /var/log/squid/cache.log
coredump_dir /var/spool/squid
